<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-chai-things/node_modules/chai-things/lib/chai-things.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-chai-things">npmtest-chai-things (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-chai-things/node_modules/chai-things/lib/chai-things.js</span></h1>
    <h2>
        
        Statements: <span class="metric">7.2% <small>(9 / 125)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">6.56% <small>(4 / 61)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">6.25% <small>(1 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">7.38% <small>(9 / 122)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-chai-things/node_modules/chai-things/lib/</a> &#187; chai-things.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">(function (chaiModule) {
  "use strict";
  // NodeJS
  <span class="missing-if-branch" title="else path not taken" >E</span>if (typeof require === "function" &amp;&amp; typeof exports === "object" &amp;&amp; typeof module === "object")
    module.exports = chaiModule;
  // AMD
  else <span class="cstat-no" title="statement not covered" >if (typeof define === "function" &amp;&amp; define.amd)</span>
<span class="cstat-no" title="statement not covered" >    define(<span class="fstat-no" title="function not covered" >function () {</span> <span class="cstat-no" title="statement not covered" >return chaiModule; </span>});</span>
  // Other
  else
<span class="cstat-no" title="statement not covered" >    chai.use(chaiModule);</span>
}(<span class="fstat-no" title="function not covered" >function chaiAsPromised(chai, utils) {</span>
  "use strict";
&nbsp;
<span class="cstat-no" title="statement not covered" >  var Assertion = chai.Assertion,</span>
      assertionPrototype = Assertion.prototype,
      expect = chai.expect,
      containPropertyDesc = Object.getOwnPropertyDescriptor(assertionPrototype, 'contain');
<span class="cstat-no" title="statement not covered" >  Object.defineProperty(assertionPrototype, 'contains', containPropertyDesc);</span>
<span class="cstat-no" title="statement not covered" >  Object.defineProperty(assertionPrototype, 'includes', containPropertyDesc);</span>
&nbsp;
  // Handles the `something` chain property
<span class="fstat-no" title="function not covered" >  function chainSomething() {</span>
    // `include` or `contains` should have been called before
<span class="cstat-no" title="statement not covered" >    if (!utils.flag(this, "contains"))</span>
<span class="cstat-no" title="statement not covered" >      throw new Error("cannot use something without include or contains");</span>
    // Flag that this is a `something` chain
<span class="cstat-no" title="statement not covered" >    var lastSomething = this, newSomething = {};</span>
<span class="cstat-no" title="statement not covered" >    while (utils.flag(lastSomething, "something"))</span>
<span class="cstat-no" title="statement not covered" >      lastSomething = utils.flag(lastSomething, "something");</span>
    // Transfer all the flags to the new `something` and remove them from `this`
<span class="cstat-no" title="statement not covered" >    utils.transferFlags(this, newSomething, false);</span>
<span class="cstat-no" title="statement not covered" >    for (var prop in this.__flags)</span>
<span class="cstat-no" title="statement not covered" >      if (!/^(?:something|object|ssfi|message)$/.test(prop))</span>
<span class="cstat-no" title="statement not covered" >        delete this.__flags[prop];</span>
&nbsp;
    // Add the `newSomething` to the `lastSomething` in the chain.
<span class="cstat-no" title="statement not covered" >    utils.flag(lastSomething, "something", newSomething);</span>
    // Clear the `something` flag from `newSomething`.
<span class="cstat-no" title="statement not covered" >    utils.flag(newSomething, "something", false);</span>
  }
&nbsp;
  // Performs the `something()` assertion
<span class="fstat-no" title="function not covered" >  function assertSomething() {</span>
    // Undo the flags set by the `something` chain property
<span class="cstat-no" title="statement not covered" >    var somethingFlags = utils.flag(this, "something");</span>
<span class="cstat-no" title="statement not covered" >    utils.flag(this, "something", false);</span>
<span class="cstat-no" title="statement not covered" >    if (somethingFlags)</span>
<span class="cstat-no" title="statement not covered" >      utils.transferFlags(somethingFlags, this, true);</span>
&nbsp;
    // The assertion's object for `something` should be array-like
<span class="cstat-no" title="statement not covered" >    var object = utils.flag(this, "object");</span>
<span class="cstat-no" title="statement not covered" >    expect(object).to.have.property("length");</span>
<span class="cstat-no" title="statement not covered" >    expect(object.length).to.be.a("number", "something object length");</span>
&nbsp;
    // The object should contain something
<span class="cstat-no" title="statement not covered" >    this.assert(object.length &gt; 0,</span>
      "expected #{this} to contain something",
      "expected #{this} not to contain something"
    );
  }
&nbsp;
  // Handles the `all` chain property
<span class="fstat-no" title="function not covered" >  function chainAll() {</span>
    // Flag that this is an `all` chain
<span class="cstat-no" title="statement not covered" >    var lastAll = this, newAll = {};</span>
<span class="cstat-no" title="statement not covered" >    while (utils.flag(lastAll, "all"))</span>
<span class="cstat-no" title="statement not covered" >      lastAll = utils.flag(lastAll, "all");</span>
    // Transfer all the flags to the new `all` and remove them from `this`
<span class="cstat-no" title="statement not covered" >    utils.transferFlags(this, newAll, false);</span>
<span class="cstat-no" title="statement not covered" >    for (var prop in this.__flags)</span>
<span class="cstat-no" title="statement not covered" >      if (!/^(?:all|object|ssfi|message)$/.test(prop))</span>
<span class="cstat-no" title="statement not covered" >        delete this.__flags[prop];</span>
&nbsp;
    // Add the `newAll` to the `lastAll` in the chain.
<span class="cstat-no" title="statement not covered" >    utils.flag(lastAll, "all", newAll);</span>
    // Clear the `all` flag from `newAll`.
<span class="cstat-no" title="statement not covered" >    utils.flag(newAll, "all", false);</span>
  }
&nbsp;
  // Find all assertion methods
<span class="cstat-no" title="statement not covered" >  var methodNames = Object.getOwnPropertyNames(assertionPrototype)</span>
    .filter(<span class="fstat-no" title="function not covered" >function (propertyName) {</span>
<span class="cstat-no" title="statement not covered" >      var property = Object.getOwnPropertyDescriptor(assertionPrototype, propertyName);</span>
<span class="cstat-no" title="statement not covered" >      return typeof property.value  === "function";</span>
    });
&nbsp;
  // Override all assertion methods
<span class="cstat-no" title="statement not covered" >  methodNames.forEach(<span class="fstat-no" title="function not covered" >function (methodName) {</span></span>
&nbsp;
    // Override the method to react on a possible `something` in the chain
<span class="cstat-no" title="statement not covered" >    Assertion.overwriteMethod(methodName, <span class="fstat-no" title="function not covered" >function (_super) {</span></span>
<span class="cstat-no" title="statement not covered" >      return <span class="fstat-no" title="function not covered" >function somethingMethod() {</span></span>
        // Return if no `something` has been used in the chain
<span class="cstat-no" title="statement not covered" >        var somethingFlags = utils.flag(this, "something");</span>
<span class="cstat-no" title="statement not covered" >        if (!somethingFlags)</span>
<span class="cstat-no" title="statement not covered" >          return _super.apply(this, arguments);</span>
        // Use the nested `something` flag as the new `something` flag for this.
<span class="cstat-no" title="statement not covered" >        utils.flag(this, "something", utils.flag(somethingFlags, "something"));</span>
&nbsp;
        // The assertion's object for `something` should be array-like
<span class="cstat-no" title="statement not covered" >        var arrayObject = utils.flag(this, "object");</span>
<span class="cstat-no" title="statement not covered" >        expect(arrayObject).to.have.property("length");</span>
<span class="cstat-no" title="statement not covered" >        var length = arrayObject.length;</span>
<span class="cstat-no" title="statement not covered" >        expect(length).to.be.a("number", "something object length");</span>
&nbsp;
        // In the negative case, an empty array means success
<span class="cstat-no" title="statement not covered" >        var negate = utils.flag(somethingFlags, "negate");</span>
<span class="cstat-no" title="statement not covered" >        if (negate &amp;&amp; !length)</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        // In the positive case, the array should not be empty
<span class="cstat-no" title="statement not covered" >        new Assertion(arrayObject).assert(length,</span>
          "expected #{this} to contain something");
&nbsp;
        // Try the assertion on every array element
<span class="cstat-no" title="statement not covered" >        var assertionError;</span>
<span class="cstat-no" title="statement not covered" >        for (var i = 0; i &lt; length; i++) {</span>
          // Test whether the element satisfies the assertion
<span class="cstat-no" title="statement not covered" >          var item = arrayObject[i],</span>
              itemAssertion = copyAssertion(this, item, somethingAssert);
<span class="cstat-no" title="statement not covered" >          assertionError = null;</span>
<span class="cstat-no" title="statement not covered" >          try { <span class="cstat-no" title="statement not covered" >somethingMethod.apply(itemAssertion, arguments); </span>}</span>
          catch (error) { <span class="cstat-no" title="statement not covered" >assertionError = error; </span>}
          // If the element satisfies the assertion
<span class="cstat-no" title="statement not covered" >          if (!assertionError) {</span>
            // In case the base assertion is negated, a satisfying element
            // means the base assertion ("no element must satisfy x") fails
<span class="cstat-no" title="statement not covered" >            if (negate) {</span>
<span class="cstat-no" title="statement not covered" >              if (!utils.flag(somethingFlags, "something")) {</span>
                // If we have no child `something`s then assert the negated item assertion,
                // which should fail and throw an error
<span class="cstat-no" title="statement not covered" >                var negItemAssertion = copyAssertion(this, item, somethingAssert, true);</span>
<span class="cstat-no" title="statement not covered" >                somethingMethod.apply(negItemAssertion, arguments);</span>
              }
              // Throw here if we have a child `something`,
              // or if the negated item assertion didn't throw for some reason
<span class="cstat-no" title="statement not covered" >              new Assertion(arrayObject).assert(false,</span>
                  "expected no element of #{this} to satisfy the assertion");
            }
            // In the positive case, a satisfying element means the assertion holds
<span class="cstat-no" title="statement not covered" >            return;</span>
          }
        }
        // Changes the assertion message to an array viewpoint
<span class="fstat-no" title="function not covered" >        function somethingAssert(test, positive, negative, expected, actual) {</span>
<span class="cstat-no" title="statement not covered" >          var replacement = (negate ? "no" : "an") + " element of #{this}";</span>
<span class="cstat-no" title="statement not covered" >          utils.flag(this, "object", arrayObject);</span>
<span class="cstat-no" title="statement not covered" >          assertionPrototype.assert.call(this, test,</span>
            (negate ? negative : positive).replace("#{this}", replacement),
            (negate ? positive : negative).replace("#{this}", replacement),
            expected, actual);
        }
        // If we reach this point, no element that satisfies the assertion has been found
<span class="cstat-no" title="statement not covered" >        if (!negate)</span>
<span class="cstat-no" title="statement not covered" >          throw assertionError;</span>
      };
    });
&nbsp;
    // Override the method to react on a possible `all` in the chain
<span class="cstat-no" title="statement not covered" >    Assertion.overwriteMethod(methodName, <span class="fstat-no" title="function not covered" >function (_super) {</span></span>
<span class="cstat-no" title="statement not covered" >      return <span class="fstat-no" title="function not covered" >function allMethod() {</span></span>
        // Return if no `all` has been used in the chain
<span class="cstat-no" title="statement not covered" >        var allFlags = utils.flag(this, "all");</span>
<span class="cstat-no" title="statement not covered" >        if (!allFlags)</span>
<span class="cstat-no" title="statement not covered" >          return _super.apply(this, arguments);</span>
        // Use the nested `all` flag as the new `all` flag for this.
<span class="cstat-no" title="statement not covered" >        utils.flag(this, "all", utils.flag(allFlags, "all"));</span>
&nbsp;
        // The assertion's object for `all` should be array-like
<span class="cstat-no" title="statement not covered" >        var arrayObject = utils.flag(this, "object");</span>
<span class="cstat-no" title="statement not covered" >        expect(arrayObject).to.have.property("length");</span>
<span class="cstat-no" title="statement not covered" >        var length = arrayObject.length;</span>
<span class="cstat-no" title="statement not covered" >        expect(length).to.be.a("number", "all object length");</span>
&nbsp;
        // In the positive case, an empty array means success
<span class="cstat-no" title="statement not covered" >        var negate = utils.flag(allFlags, "negate");</span>
<span class="cstat-no" title="statement not covered" >        if (!negate &amp;&amp; !length)</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
&nbsp;
        // Try the assertion on every array element
<span class="cstat-no" title="statement not covered" >        var assertionError, item, itemAssertion;</span>
<span class="cstat-no" title="statement not covered" >        for (var i = 0; i &lt; length; i++) {</span>
          // Test whether the element satisfies the assertion
<span class="cstat-no" title="statement not covered" >          item = arrayObject[i];</span>
<span class="cstat-no" title="statement not covered" >          itemAssertion = copyAssertion(this, item, allAssert);</span>
<span class="cstat-no" title="statement not covered" >          assertionError = null;</span>
<span class="cstat-no" title="statement not covered" >          try { <span class="cstat-no" title="statement not covered" >allMethod.apply(itemAssertion, arguments); </span>}</span>
          catch (error) { <span class="cstat-no" title="statement not covered" >assertionError = error; </span>}
          // If the element does not satisfy the assertion
<span class="cstat-no" title="statement not covered" >          if (assertionError) {</span>
            // In the positive case, this means the assertion has failed
<span class="cstat-no" title="statement not covered" >            if (!negate) {</span>
                // If we have no child `all`s then throw the item's assertion error
<span class="cstat-no" title="statement not covered" >              if (!utils.flag(allFlags, "all"))</span>
<span class="cstat-no" title="statement not covered" >                throw assertionError;</span>
              // Throw here if we have a child `all`,
<span class="cstat-no" title="statement not covered" >              new Assertion(arrayObject).assert(false,</span>
                  "expected all elements of #{this} to satisfy the assertion");
            }
            // In the negative case, a failing element means the assertion holds
<span class="cstat-no" title="statement not covered" >            return;</span>
          }
        }
        // Changes the assertion message to an array viewpoint
<span class="fstat-no" title="function not covered" >        function allAssert(test, positive, negative, expected, actual) {</span>
<span class="cstat-no" title="statement not covered" >          var replacement = (negate ? "not " : "") + "all elements of #{this}";</span>
<span class="cstat-no" title="statement not covered" >          utils.flag(this, "object", arrayObject);</span>
<span class="cstat-no" title="statement not covered" >          assertionPrototype.assert.call(this, test,</span>
            (negate ? negative : positive).replace("#{this}", replacement),
            (negate ? positive : negative).replace("#{this}", replacement),
            expected, actual);
        }
        // If we reach this point, no failing element has been found
<span class="cstat-no" title="statement not covered" >        if (negate) {</span>
          // Assert the negated item assertion which should fail and throw an error
<span class="cstat-no" title="statement not covered" >          var negItemAssertion = copyAssertion(this, item, allAssert, true);</span>
<span class="cstat-no" title="statement not covered" >          allMethod.apply(negItemAssertion, arguments);</span>
          // Throw here if the negated item assertion didn't throw for some reason
<span class="cstat-no" title="statement not covered" >          new Assertion(arrayObject).assert(false,</span>
            "expected not all elements of #{this} to satisfy the assertion");
        }
      };
    });
  });
&nbsp;
  // Copies an assertion to another item, using the specified assert function
<span class="fstat-no" title="function not covered" >  function copyAssertion(baseAssertion, item, assert, negate) {</span>
<span class="cstat-no" title="statement not covered" >    var assertion = new Assertion(item);</span>
<span class="cstat-no" title="statement not covered" >    utils.transferFlags(baseAssertion, assertion, false);</span>
<span class="cstat-no" title="statement not covered" >    assertion.assert = assert;</span>
<span class="cstat-no" title="statement not covered" >    if (negate)</span>
<span class="cstat-no" title="statement not covered" >      utils.flag(assertion, "negate", !utils.flag(assertion, "negate"));</span>
<span class="cstat-no" title="statement not covered" >    return assertion;</span>
  }
&nbsp;
  // Define the `something` chainable assertion method and its variants
<span class="cstat-no" title="statement not covered" >  ["something", "thing", "item", "one", "some", "any"].forEach(<span class="fstat-no" title="function not covered" >function (methodName) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (!(methodName in assertionPrototype))</span>
<span class="cstat-no" title="statement not covered" >      Assertion.addChainableMethod(methodName, assertSomething, chainSomething);</span>
  });
  // Define the `all` chainable assertion method
<span class="cstat-no" title="statement not covered" >  Assertion.addChainableMethod("all", null, chainAll);</span>
}));
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 18:33:50 GMT+0000 (UTC)</div>
</div>
</body>
</html>
